"use strict";(self.webpackChunkbynar=self.webpackChunkbynar||[]).push([[137],{40115:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(72791),i=t(60128),o=t(34593),a=t(99869),l=t(39230),s=t(80184),c=function(){var e=(0,r.useContext)(a.q5),n=e.tab,t=e.handleAddTab,c=e.handleRemoveTab,d=e.activeTab,u=e.setActiveTab,f=(0,r.useRef)(null),p=(0,r.useRef)(null),h=(0,l.$G)().t,v=(0,a.hB)().isUserManagementAllowed,m=(0,a.XA)(),x=(0,r.useMemo)((function(){return v?5:3}),[v]);if(m)return null;var g=(window.innerWidth-405)/100<n.length;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"tab",ref:p,style:{width:"calc(100vw -  ".concat(3*x,"rem - /*text width Bynar[Platform]*/ 108px)")},children:[g&&(0,s.jsx)(o.hU,{className:"left-arrow",onClick:function(){f.current&&f.current.scrollTo({left:f.current.scrollLeft-102,behavior:"smooth"})},children:(0,s.jsx)(i.s$,{})}),(0,s.jsx)("div",{className:"tab-buttons-list",ref:f,children:(0,s.jsxs)("div",{style:{display:"flex",whiteSpace:"nowrap"},children:[n.map((function(e,n){return(0,s.jsxs)(o.zxk,{kind:"ghost",onClick:function(){u(n)},className:"custom-tab ".concat(d===n?"active":""," ").concat(0===n?"dashboard-btn":""),children:[e.label,e.isDelted&&(0,s.jsx)(o.hU,{className:"close-button",onClick:function(t){t.preventDefault(),t.stopPropagation(),function(e,n){c(e,n)}(e.id,n)},kind:"ghost",children:(0,s.jsx)(i.x8,{})})]},n)})),(0,s.jsx)(o.zxk,{kind:"ghost",className:"add-new-tab",onClick:function(){t(),setTimeout((function(){f.current.scrollTo({left:f.current.scrollLeft+200,behavior:"smooth"})}),50)},children:h("add-new-tab")})]})}),g?(0,s.jsx)(o.hU,{className:"left-arrow",onClick:function(){f.current&&f.current.scrollTo({left:f.current.scrollLeft+102,behavior:"smooth"})},children:(0,s.jsx)(i._Q,{})}):null]})})}},61137:function(e,n,t){t.r(n),t.d(n,{default:function(){return Se}});var r=t(1413),i=t(29439),o=t(87462),a=t(4942),l=t(72791),s=t(34392),c=t.n(s),d=t(9609),u=t(54037);function f(e){var n=(0,l.useState)(!1),t=(0,i.default)(n,2),r=t[0],s=t[1],f=(0,l.useRef)(null),p=(0,u.A)();(0,l.useEffect)((function(){var e;function n(){var e;!r&&null!==(e=f.current)&&void 0!==e&&e.input&&f.current.input.focus()}if(null!==(e=f.current)&&void 0!==e&&e.magnifier){var t=f.current.magnifier;return t.addEventListener("click",n),function(){t.removeEventListener("click",n)}}}),[r,f]);var h=c()("".concat(p,"--search--expandable"),(0,a.default)({},"".concat(p,"--search--expanded"),r),e.className);return l.createElement(d.Z,(0,o.Z)({},e,{ref:f,className:h,onFocus:function(){r||s(!0)},onBlur:function(e){var n=e.relatedTarget&&e.relatedTarget.classList.contains("".concat(p,"--search-close"));!r||n||f.current.state.hasContent||s(!1)}}))}f.propTypes=d.Z.propTypes;var p=f,h=t(34593),v=t(76385),m=t(99869),x=t(39230),g=t(51193),b=t(40115),w=t(11087),y=t(57689),j=t(77636),k=t(74165),S=t(15861),C=t(11459),R=t(32344),E=t(70735),T=t(97026),D=t(13205),L=t(88222),N=function(e){e.getToggleAllRowsSelectedProps.push((function(e,n){var t,r,i=n.instance,o=i.rows.filter((function(e){return!(i.shouldDisableSelectRow&&i.shouldDisableSelectRow(e))})),a=o.length>0&&o.every((function(e){var n=e.id;return i.state.selectedRowIds[n]}));return[e,{onChange:function(e){o.forEach((function(n){return n.toggleRowSelected(e.target.checked)}))},style:{cursor:"pointer"},checked:a,disabled:i.disableSelectAll,title:(null===i||void 0===i||null===(t=i.disableSelectRowsProps)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r.toggleAllRowsLabel)||"Toggle All Rows Selected",indeterminate:Boolean(!a&&Object.keys(i.state.selectedRowIds).length)}]}))},B=function(e){e.getToggleAllPageRowsSelectedProps.push((function(e,n){var t,r,i=n.instance,o=i.page.filter((function(e){return!(i.shouldDisableSelectRow&&i.shouldDisableSelectRow(e))})),a=o.length>0&&o.every((function(e){var n=e.id;return i.state.selectedRowIds[n]}));return[e,{onChange:function(e){o.forEach((function(n){return n.toggleRowSelected(e.target.checked)}))},style:{cursor:"pointer"},checked:a,disabled:i.disableSelectAll,title:(null===i||void 0===i||null===(t=i.disableSelectRowsProps)||void 0===t||null===(r=t.labels)||void 0===r?void 0:r.toggleAllRowsLabel)||"Toggle All Rows Selected",indeterminate:Boolean(!a&&i.page.some((function(e){var n=e.id;return i.state.selectedRowIds[n]})))}]}))},I=function(e){N(e),B(e);e.getRowProps.push((function(e,n){var t=n.row,r=n.instance;return[e,{selectDisabled:r.shouldDisableSelectRow&&r.shouldDisableSelectRow(t)}]}))},O=t(78769),P=t(11240),F=t(45987),U=t(93433),A=t(81694),z=t.n(A),Z=t(55397),_=t(75231),M=["onChange"],H="".concat(D.K.prefix,"--datagrid"),G=function(e){var n,t=(0,l.useState)(window.innerWidth),r=(0,i.default)(t,2),s=r[0],c=r[1];(0,l.useLayoutEffect)((function(){function e(){c(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var d=e.isFetching,u=e.getToggleAllRowsSelectedProps,f=e.getToggleAllPageRowsSelectedProps,p=e.tableId,h=e.hideSelectAll,v=e.DatagridPagination,m=e.radio,x=e.columns,g=e.withStickyColumn,b="left"===(null===(n=x[0])||void 0===n?void 0:n.sticky)&&g;if(h||m)return l.createElement("div",{className:z()("".concat(H,"__head-hidden-select-all"),(0,a.default)({},"".concat(H,"__select-all-sticky-left"),b&&s>671))});var w=(v?f:u)(),y=w.onChange,j=(0,F.Z)(w,M);return l.createElement("div",{className:z()("".concat(H,"__head-select-all"),"".concat(H,"__checkbox-cell"),(0,a.default)({},"".concat(H,"__checkbox-cell-sticky-left"),b&&s>671))},l.createElement($,(0,o.Z)({},j,{name:"".concat(p,"-select-all-checkbox-name"),onSelect:y,disabled:d||j.disabled,id:"".concat(p,"-select-all-checkbox-id")})))},$=_.ZP.TableSelectAll,q=t(60883),K=["onChange"];function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,a.default)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J="".concat(D.K.prefix,"--datagrid"),Q=function(e){e.getRowProps.push((function(e,n){var t=n.row;return[e,{className:z()("".concat(J,"__carbon-row"),t.getToggleRowSelectedProps().checked?"".concat(D.u.prefix,"--data-table--selected ").concat(J,"__active-row"):"")}]}))},V=function(e){var n,t=e.isFetching,r=void 0!==t&&t,s=e.tableId,c=e.row,d=e.cell,u=e.radio,f=e.toggleAllRowsSelected,p=e.onRadioSelect,h=e.onRowSelect,v=e.columns,m=e.withStickyColumn,x=(0,l.useState)(window.innerWidth),g=(0,i.default)(x,2),b=g[0],w=g[1];(0,l.useLayoutEffect)((function(){function e(){w(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var y=r||c.getRowProps().selectDisabled,j=c.getToggleRowSelectedProps(),k=j.onChange,S=(0,F.Z)(j,K),C=d.getCellProps(),R="left"===(null===(n=v[0])||void 0===n?void 0:n.sticky)&&m;return l.createElement(Z.Z,(0,o.Z)({},C,S,{radio:u,onSelect:function(e){e.stopPropagation(),u&&(f(!1),p&&p(c)),k(e),null===h||void 0===h||h(c,e)},id:"".concat(s,"-").concat(c.index),name:"".concat(s,"-").concat(c.index,"-name"),className:z()("".concat(J,"__checkbox-cell"),C.className,(0,a.default)({},"".concat(J,"__checkbox-cell-sticky-left"),R&&b>671)),ariaLabel:"".concat(s,"-row-").concat(c.index),disabled:y}))},Y=function(e){Q(e);e.useInstance.push((function(e){var n=e.rows.map((function(e){return W(W({},e),{},{isSelectable:!0})}));Object.assign(e,{rows:n})})),e.useInstance.push((function(e){Object.assign(e,{withSelectRows:!0})})),e.visibleColumns.push((function(e){return[{id:q.p,Header:function(e){return l.createElement(G,e)},Cell:function(e){return l.createElement(V,e)}}].concat((0,U.default)(e))}))},ee=function(e){e.useInstance.push((function(n){var t=n.onRowClick;e.getRowProps.push((function(e,n){var r=n.isFetching,i=n.row,o=n.instance,a=i.id,l=i.toggleRowSelected,s=function(e){!r&&t&&(t(i,e),o.selectedFlatRows&&o.selectedFlatRows.map((function(e){return e.toggleRowSelected(!1)})),l(a,!0))};return[e,{onClick:s,onKeyDown:function(e){"Enter"===e.key&&s()}},{tabIndex:0,style:{cursor:"pointer"}}]}))}))},ne=t(51382),te=t(97159),re=t(39328),ie=t(80184);D.K.setAllComponents(!0),D.K.setAllFeatures(!0);var oe=function(e){var n,t=e.isOpen,o=(0,m.hB)(),a=o.getUserList,s=o.userListData,c=o.loading,d=o.openDeleteModal,u=o.notification,f=o.openEditPanel,p=o.openAddUserModel,g=o.openUserDetails,b=o.openBulkDeleteConfirmModal,y=(0,m.XA)(),j=(0,x.$G)().t,D=(0,w.lr)(),N=(0,i.default)(D,2),B=N[0],F=N[1],U=(0,l.useState)(null!==(n=B.get("search"))&&void 0!==n?n:""),A=(0,i.default)(U,2),z=A[0],Z=A[1],_=(0,l.useState)(!1),M=(0,i.default)(_,2),H=M[0],G=M[1],$=(0,l.useMemo)((function(){var e={page:0,pageLimit:10};try{var n,t;e={page:parseInt(null!==(n=B.get("page"))&&void 0!==n?n:0),pageLimit:parseInt(null!==(t=B.get("limit"))&&void 0!==t?t:10)}}catch(r){}finally{return e}}),[B]),q=$.page,K=$.pageLimit,X=(0,l.useCallback)((function(){var e,n,t;return{limit:null!==(e=B.get("limit"))&&void 0!==e?e:10,page:null!==(n=B.get("page"))&&void 0!==n?n:0,search:null!==(t=B.get("search"))&&void 0!==t?t:"",sortByColumn:B.get("sortByColumn"),sortByOrder:B.get("sortByOrder")}}),[B]);(0,l.useEffect)((function(){var e;t&&(W.current=!0,Z(null!==(e=B.get("search"))&&void 0!==e?e:""))}),[t]),(0,l.useEffect)((function(){t&&(0,S.default)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(X());case 2:case"end":return e.stop()}}),e)})))()}),[X,t]);var W=(0,l.useRef)(!1);(0,l.useEffect)((function(){if(t){if(!W.current){var e=setTimeout((function(){(0,S.default)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F(z?function(e){var n=(0,m.sR)(e,["page"]);return(0,r.Z)((0,r.Z)({},n),{},{search:z})}:function(e){return(0,m.sR)(e,["search"])});case 1:case"end":return e.stop()}}),e)})))()}),300);return function(){return clearTimeout(e)}}W.current=!1}else G(!1)}),[z,t]);var J=(0,l.useMemo)((function(){return ae(s.userAccountDetails,j)}),[s.userAccountDetails]),Q=(0,L.Z)({columns:J,data:s.userAccountDetails,isFetching:c,endPlugins:[I],emptyStateTitle:j("no-users"),emptyStateDescription:j("no-users-action-description"),emptyStateSize:"lg",emptyStateAction:{text:j("add-new-user"),onClick:p,renderIcon:C.mm,iconDescription:"Add icon"},rowActions:[{id:"view",itemText:(0,ie.jsxs)("div",{className:"row-action-renderer",children:[(0,ie.jsx)(R.cS,{})," ",j("view")]}),onClick:function(e,n){var t=n.original;return g({userIdToShowDetails:t.id})}},{id:"edit",itemText:(0,ie.jsxs)("div",{className:"row-action-renderer",children:[(0,ie.jsx)(E.I8,{})," ",j("edit")]}),onClick:function(e,n){var t=n.original;return f({userIdToBeEdited:t.id})},shouldDisableMenuItem:function(e){return!e.original.canUpdate}},{id:"delete",itemText:(0,ie.jsxs)("div",{className:"row-action-renderer",children:[(0,ie.jsx)(T.ZN,{})," ",j("delete")]}),hasDivider:!0,isDelete:!0,shouldDisableMenuItem:function(e){return!e.original.canDelete},onClick:function(e,n){var t=n.original;return d({userIdToBeDeleted:t.id,userNameToBeDeleted:t.username})}}],onRowSelect:function(e,n){},shouldDisableSelectRow:function(e){var n;return!(null!==e&&void 0!==e&&null!==(n=e.original)&&void 0!==n&&n.canDelete)},onSort:function(e,n){n===m.jV.NONE?F((function(e){return(0,m.sR)(e,["sortByColumn","sortByOrder"])})):F((function(t){return(0,m.CX)(t,{sortByColumn:e,sortByOrder:n})}))},onRowClick:function(e){var n=e.original;g({userIdToShowDetails:n.id})},DatagridPagination:function(){return(0,ie.jsx)(h.tlE,{page:q+1,pageSize:K,pageSizes:[2,5,10,25,50],totalItems:null===s||void 0===s?void 0:s.totalCount,onChange:function(e){var n=e.page,t=e.pageSize;F((function(e){return(0,m.CX)(e,{page:n-1,limit:t})}))}})},DatagridBatchActions:function(e){var n=e.selectedFlatRows,t=e.toggleAllRowsSelected,r=n&&n.length;return(0,ie.jsx)(h.iG6,{shouldShowBatchActions:r>0,totalSelected:r,onCancel:function(){return t(!1)},children:(0,ie.jsx)(h.$oH,{renderIcon:te.nvl,onClick:function(){return alert("Batch action")},children:"Action"})})},DatagridActions:function(){return(0,ie.jsxs)(h.Vj0,{children:[(0,ie.jsx)(h.Ys1,{size:"xl",id:"columnSearch",className:"search-input",placeHolderText:"Search here",onChange:function(e){return Z(e.target.value)},value:null!==z&&void 0!==z?z:null,onExpand:function(e,n){return G(n)},expanded:H||z,onClear:function(){return Z("")}}),(0,ie.jsx)(h.zxk,{kind:"ghost",hasIconOnly:!0,tooltipPosition:"bottom",renderIcon:re._LT,iconDescription:j("refresh"),onClick:function(){return a(X())}}),(0,ie.jsx)(h.zxk,{onClick:p,hasIconOnly:!!y,size:y?"lg":"sm",kind:"primary",style:{cursor:"pointer"},renderIcon:C.mm,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:j("add-new-user"),children:j("add-new-user")})]})},batchActions:!0,toolbarBatchActions:[{label:j("delete"),renderIcon:v.XqF,onClick:function(){var e=Q.selectedFlatRows.map((function(e){return e.original.id}));b({userIdsToBeDeleted:e})},hasDivider:!0,kind:"danger"}]},O.Z,P.Z,Y,ee,m.Rq);return(0,l.useEffect)((function(){t&&Q.setPageSize(K)}),[K,t]),(0,l.useEffect)((function(){if(t){var e=B.get("sortByColumn"),n=B.get("sortByColumn");e&&n?Q.setSortBy([{id:B.get("sortByColumn"),desc:"DESC"===B.get("sortByOrder")}]):Q.setSortBy([])}}),[t,B.get("sortByColumn"),B.get("sortByOrder")]),(0,ie.jsx)(ie.Fragment,{children:(0,ie.jsxs)("div",{className:"user-list",children:[u&&(0,ie.jsx)(h.Jn6,{className:"error-notification-box",iconDescription:"close notification",subtitle:null===u||void 0===u?void 0:u.message,timeout:0,title:"",kind:null===u||void 0===u?void 0:u.type}),(0,ie.jsx)("div",{className:"userdata-table",children:(0,ie.jsx)(ne.c,{datagridState:Q})})]})})},ae=function(e,n){return[{Header:n("username"),accessor:"username",width:(0,m.tk)(e,"username","Username")},{Header:n("fullname"),accessor:"fullName",width:(0,m.tk)(e,"fullName","Fullname")},{Header:n("country"),accessor:"country",width:(0,m.tk)(e,"country","Country")},{Header:n("city"),accessor:"city",width:(0,m.tk)(e,"city","City")},{Header:n("postal-code"),accessor:"postalCode",width:(0,m.tk)(e,"postalCode","PostalCode")},{Header:n("state"),accessor:"state",width:(0,m.tk)(e,"state","State")},{Header:n("phone-number"),accessor:"phoneNumber",width:(0,m.tk)(e,"phoneNumber","Phonenumber")},{Header:n("roles"),accessor:"cognitoUserGroups",width:(0,m.tk)(e,"cognitoUserGroups","Roles")},{Header:"",accessor:"actions",isAction:!0,sticky:"right",disableSortBy:!0}]},le=function(e){var n=e.setIsOpen,t=e.isOpen,r=(0,y.s0)(),i=(0,x.$G)().t;return(0,ie.jsx)(ie.Fragment,{children:(0,ie.jsx)(j.b,{hasCloseIcon:!0,closeIconDescription:i("close-tearsheet-text"),label:"",onClose:function(){n(!1),r("/home/dashboard")},open:t,preventCloseOnClickOutside:!0,title:i("user-list"),children:(0,ie.jsx)(oe,{isOpen:t})})})},se=t(16672),ce=l.memo((function(e){var n,t,r=e.openLanguageModal,o=e.setLanguageModalOpen,a=e.openUploadProfileModal,s=e.setUploadProfileModalOpen,c=e.onProfileOptionClick,d=void 0===c?function(){return null}:c,u=(0,x.$G)(),f=(0,i.default)(u,2),p=f[0],v=(f[1],(0,m.aC)()),b=v.signout,w=v.user,y=(0,l.useState)(!1),j=(0,i.default)(y,2),R=j[0],E=j[1],T=(0,m.Fc)(),D=T.openThemeChangeModal,L=T.theme,N=(0,m.Qc)(),B=N.openCardManagementPanel,I=N.isCardManagementAllowed,O=(0,m.qx)().handleOpenInvoiceList,P=function(){var e=(0,S.default)((0,k.Z)().mark((function e(n){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,ie.jsxs)("div",{className:"user-profile-dropdown",children:[(0,ie.jsxs)(h.n9L,{className:"tile",children:[(0,ie.jsxs)("div",{className:"bynar-profile-info-wrapper",children:[(0,ie.jsx)("h4",{className:"user-name",children:null===w||void 0===w?void 0:w.fullName}),(0,ie.jsxs)("div",{className:"profile-info-image",onClick:function(e){e.preventDefault(),s(!a)},children:[(0,ie.jsx)(g.n,{backgroundColor:"light-cyan",size:"xlg",initials:null!==(n=null===w||void 0===w?void 0:w.fullName)&&void 0!==n?n:"...",image:null!==(t=null===w||void 0===w?void 0:w.profileURL)&&void 0!==t?t:"",theme:"g90"===L?"dark":"light",onMouseEnter:function(){return E(!0)}}),R&&(0,ie.jsx)("div",{className:"edit-overlay",onMouseLeave:function(){return E(!1)},children:(0,ie.jsx)(se.V1,{})})]})]}),(0,ie.jsxs)("div",{className:"link-list",children:[(0,ie.jsx)(h.rUS,{onClick:d,children:p("profile")}),(0,ie.jsx)(h.rUS,{children:p("privacy")}),(0,ie.jsx)(h.rUS,{onClick:O,children:p("invoices")}),I&&(0,ie.jsx)(h.rUS,{onClick:B,children:p("card-management")}),(0,ie.jsx)(h.rUS,{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),o(!r)},children:p("change-language")}),(0,ie.jsx)(h.rUS,{style:{cursor:"pointer"},onClick:function(){return D(!0)},children:p("change-theme")}),(0,ie.jsxs)(h.rUS,{style:{cursor:"pointer",alignItems:"center"},onClick:P,children:[p("logout"),(0,ie.jsx)(C.ol,{style:{marginLeft:"4px"}})]})]})]}),(0,ie.jsx)("div",{}),(0,ie.jsx)("div",{})]})})),de=ce,ue=t(71423),fe=t(60128);function pe(e){var n=e.isSideNavExpanded,t=e.onClickSideNavExpand,r=(0,l.useContext)(m.q5),i=r.tab,o=r.handleAddTab,a=r.handleRemoveTab,s=r.activeTab,c=r.setActiveTab,d=(0,x.$G)().t,u=(0,m.XA)();return(0,ie.jsx)(ue.Z,{"aria-label":"Side navigation",expanded:n,isPersistent:!1,className:"sidenav-container",children:(0,ie.jsxs)(h.LDp,{children:[(0,ie.jsxs)(h.Fxs,{renderIcon:E.pT,title:"Category title",children:[(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"})]}),(0,ie.jsxs)(h.Fxs,{renderIcon:E.pT,title:"Category title",children:[(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"})]}),(0,ie.jsxs)(h.Fxs,{renderIcon:E.pT,title:"Category title",children:[(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"}),(0,ie.jsx)(h.xRb,{href:"#",children:"Link"})]}),u&&(0,ie.jsxs)(h.Fxs,{renderIcon:E.pT,title:"Dynamic Tabs",children:[i.map((function(e,n){return(0,ie.jsxs)(h.xRb,{className:"side-nav-item-with-action","aria-current":n===s?"page":"link",onClick:function(){c(n),t()},children:[e.label,e.isDelted&&(0,ie.jsx)("div",{role:"button",onClick:function(t){t.preventDefault(),t.stopPropagation(),a(e.id,n)},className:"delete-btn",children:(0,ie.jsx)(fe.x8,{size:12})})]},n)})),(0,ie.jsx)(h.xRb,{onClick:o,children:d("add-new-tab")})]}),(0,ie.jsx)(h.yTF,{renderIcon:E.pT,href:"#",children:"Link"}),(0,ie.jsx)(h.yTF,{renderIcon:E.pT,href:"#",children:"Link"})]})})}var he=t(92374),ve=t(26045),me=t(11041),xe=t(67279),ge=["accept","className","defaultErrorBody","defaultErrorHeader","description","fetchErrorBody","fetchErrorHeader","fileDropHeader","fileDropLabel","fileUploadLabel","inputButtonIcon","inputButtonText","inputId","inputLabel","inputPlaceholder","invalidFileTypeErrorBody","invalidFileTypeErrorHeader","invalidIconDescription","maxFileSize","maxFileSizeErrorBody","maxFileSizeErrorHeader","onClose","onRequestSubmit","open","primaryButtonText","secondaryButtonText","title"],be="ImportModal",we={accept:Object.freeze([])},ye=(0,l.forwardRef)((function(e,n){var t=e.accept,o=void 0===t?we.accept:t,a=e.className,s=e.defaultErrorBody,c=e.defaultErrorHeader,d=e.description,u=e.fetchErrorBody,f=e.fetchErrorHeader,p=e.fileDropHeader,v=e.fileDropLabel,m=e.fileUploadLabel,x=e.inputButtonIcon,g=e.inputButtonText,b=e.inputId,w=e.inputLabel,y=e.inputPlaceholder,j=e.invalidFileTypeErrorBody,R=e.invalidFileTypeErrorHeader,E=e.invalidIconDescription,T=e.maxFileSize,L=e.maxFileSizeErrorBody,N=e.maxFileSizeErrorHeader,B=e.onClose,I=e.onRequestSubmit,O=e.open,P=e.primaryButtonText,A=e.secondaryButtonText,Z=e.title,_=(0,F.Z)(e,ge),M=(0,he.aC)(),H=M.user,G=M.getUser,$=M.authFetch,q=(0,h.AKj)(),K=(0,l.useState)([]),X=(0,i.default)(K,2),W=X[0],J=X[1],Q=(0,l.useState)(),V=(0,i.default)(Q,2),Y=V[0],ee=V[1],ne=(0,l.useState)(!1),te=(0,i.default)(ne,2),re=te[0],oe=te[1],ae=(0,l.useState)(!1),le=(0,i.default)(ae,2),se=le[0],ce=le[1];(0,l.useEffect)((function(){var e;if(O&&null!==H&&void 0!==H&&H.profileURL){if(null!==H&&void 0!==H&&H.profileURL){var n=new Blob([]),t=new File([n],null===H||void 0===H?void 0:H.profileURL,{type:n.type});t.status="edit",J([t])}ee(null!==(e=null===H||void 0===H?void 0:H.profileURL)&&void 0!==e?e:"")}}),[null===H||void 0===H?void 0:H.profileURL,O]),(0,l.useEffect)((function(){O||(J([]),oe(!1))}),[O]);var de=function(e){var n=new Set(o),t=e.name,r=e.type,i=".".concat(t.split(".").pop());return!n.has(r)&&!n.has(i)&&0!==o.length},ue=function(e){var n=e.map((function(e){var n={uuid:e.uuid||(0,me.k$)(),status:"edit",iconDescription:E,name:e.name,fileSize:e.size,invalidFileType:e.invalidFileType,fileData:e,fetchError:e.fetchError};return n.fetchError?(n.errorBody=u||s,n.errorSubject=f||c,n.invalid=!0):n.invalidFileType?(n.errorBody=j||s,n.errorSubject=R||c,n.invalid=!0):T&&n.fileSize>T&&(n.errorBody=L||s,n.errorSubject=N||c,n.invalid=!0),n})),t=(0,U.default)(n);J(t)},fe=function(){var e=(0,S.default)((0,k.Z)().mark((function e(n,t){var i,o,a,l,s,c;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===n||void 0===n||n.preventDefault(),i=null!==t&&void 0!==t?t:Y.substring(null!==t&&void 0!==t?t:Y.lastIndexOf("/")+1).split("?")[0],o={name:i,status:"uploading",uuid:(0,me.k$)()},J([o]),e.prev=4,e.next=7,fetch(null!==t&&void 0!==t?t:Y);case 7:if((a=e.sent).ok&&200===a.status){e.next=10;break}throw new Error(a.status);case 10:return e.next=12,a.blob();case 12:l=e.sent,(s=new File([l],i,{type:l.type})).invalidFileType=de(s),s.uuid=o.uuid,ue([s]),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),c=(0,r.Z)((0,r.Z)({},o),{},{fetchError:!0}),ue([c]);case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(n,t){return e.apply(this,arguments)}}(),pe=function(){var e=(0,S.default)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,ce(!0),!((null===W||void 0===W?void 0:W.length)>0)){e.next=7;break}return e.next=5,I(W);case 5:e.next=15;break;case 7:if(null===H||void 0===H||!H.profileURL){e.next=15;break}return e.next=10,$("".concat(ve.xB,"/profile-image"),{method:"DELETE"});case 10:if(!e.sent.ok){e.next=15;break}return e.next=14,G();case 14:B();case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(0);case 19:return e.prev=19,ce(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,17,19,22]])})));return function(){return e.apply(this,arguments)}}(),be=W.length,ye=W.filter((function(e){return!e.invalid})).length,je=be>0,ke=null!==H&&void 0!==H&&H.profileURL?!re:!je||!(ye>0),Se=!Y||je,Ce="".concat(ye," / ").concat(be," ").concat(m),Re="".concat(D.K.prefix,"--import-modal");return(0,ie.jsxs)(h.lpG,(0,r.Z)((0,r.Z)({},_),{},{open:O,ref:n,onClose:B,"aria-label":Z,className:z()(Re,a),size:"sm",preventCloseOnClickOutside:!0,children:[(0,ie.jsx)(h.xBx,{className:"".concat(Re,"__header"),title:Z,closeClassName:"display-none"}),(0,ie.jsxs)(h.fef,{className:"".concat(Re,"__body-container"),children:[d&&(0,ie.jsx)("p",{className:"".concat(Re,"__body"),children:d}),p&&(0,ie.jsx)("p",{className:"".concat(Re,"__file-drop-header"),children:p}),(0,ie.jsx)(h.awp,{accept:o,labelText:v,onAddFiles:function(e,n){var t=n.addedFiles;e.stopPropagation(),ue(t)},disabled:je,"data-modal-primary-focus":!0}),w&&(0,ie.jsx)("p",{className:"".concat(Re,"__label"),children:w}),(0,ie.jsxs)("div",{className:"".concat(Re,"__input-group"),children:[(0,ie.jsx)(h.oil,{labelText:"",id:b,onChange:function(e){ee(e.target.value)},placeholder:y,value:Y,disabled:je,"aria-label":w}),(0,ie.jsx)(h.zxk,{onClick:fe,className:"".concat(Re,"__import-button"),size:"sm",disabled:Se,renderIcon:x?function(e){return(0,ie.jsx)(C.mm,(0,r.Z)({size:20},e))}:null,children:g})]}),(0,ie.jsxs)("div",{className:"".concat(q,"--file-container ").concat(Re,"__file-container"),children:[je&&(0,ie.jsx)("p",{className:"".concat(Re,"__helper-text"),children:Ce}),W.map((function(e){return(0,ie.jsx)(h.Py3,{onDelete:function(){return function(e){oe(!0);var n=W.filter((function(n){return n.uuid!==e}));J(n),ee("")}(e.uuid)},name:e.name,status:e.status,size:"lg",uuid:e.uuid,iconDescription:e.iconDescription,invalid:e.invalid,errorBody:e.errorBody,errorSubject:e.errorSubject,filesize:e.fileSize},e.uuid)}))]})]}),(0,ie.jsxs)(h.mzw,{className:"".concat(Re,"__footer"),children:[(0,ie.jsx)(h.zxk,{type:"button",kind:"secondary",onClick:B,children:A}),(0,ie.jsxs)(h.zxk,{type:"submit",kind:"primary",onClick:pe,disabled:ke,className:"button-with-loading",children:[P,se&&(0,ie.jsx)(xe.Z,{className:"inline-loading-within-btn"})]})]})]}))}));(ye=D.K.checkComponentEnabled(ye,be)).displayName=be;var je=function(e){var n=e.isUploadProfileImageModalOpen,t=e.openUploadProfileImageModal,o=(0,he.aC)(),a=(o.user,o.getUser),s=o.authFetch,c=(0,l.useState)(!1),d=(0,i.default)(c,2),u=(d[0],d[1]),f=(0,x.$G)().t,p={title:f("import"),accept:["image/jpeg","image/png"],defaultErrorBody:f("select-new-file-try-again"),defaultErrorHeader:f("import-failed"),description:f("import-description"),fetchErrorBody:f("unable-fetch-url"),fetchErrorHeader:f("import-failed"),fileDropHeader:f("file-drop-header"),fileDropLabel:f("file-drop-label"),fileUploadLabel:f("file-upload-label"),inputButtonText:f("add-file"),inputLabel:f("add-file-specify-url"),inputPlaceholder:f("URL"),invalidFileTypeErrorBody:f("invalid-file-type"),invalidFileTypeErrorHeader:f("import-failed"),invalidIconDescription:f("delete"),maxFileSize:512e3,maxFileSizeErrorBody:f("max-file-size-error-500"),maxFileSizeErrorHeader:f("import-failed"),open:n,primaryButtonText:f("confirm"),secondaryButtonText:f("cancel"),onClose:function(){return t(!1)},onRequestSubmit:function(){var e=(0,S.default)((0,k.Z)().mark((function e(n){var r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,(r=new FormData).append("file",n[0].fileData),e.next=6,s("".concat(ve.xB,"/upload"),{method:"POST",body:r});case 6:if(!e.sent.ok){e.next=13;break}return t(!1),e.next=11,a();case 11:e.next=14;break;case 13:throw"error";case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:return e.prev=18,u(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,16,18,21]])})));return function(n){return e.apply(this,arguments)}}()};return(0,ie.jsx)(ie.Fragment,{children:(0,ie.jsx)(ye,(0,r.Z)({},p))})};function ke(){var e=(0,m.aC)().user,n=(0,x.$G)().t,t=(0,m.Fc)().theme,r=(0,m.hB)().isUserManagementAllowed,o=(0,w.lr)(),a=(0,i.default)(o,2),s=a[0],c=a[1],d=((0,m.XA)(),(0,l.useState)(!1)),u=(0,i.default)(d,2),f=u[0],j=u[1],k=(0,l.useState)(!1),S=(0,i.default)(k,2),C=S[0],R=S[1],E=(0,l.useState)(!1),T=(0,i.default)(E,2),D=T[0],L=T[1],N=(0,l.useMemo)((function(){return{isUserListOpen:"true"===s.get("isUserListOpen"),setIsUserListOpen:function(e){return c({isUserListOpen:e})}}}),[s.get("isUserListOpen")]),B=N.isUserListOpen,I=N.setIsUserListOpen,O=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=function(e){O.current&&!O.current.contains(e.target)&&j(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsxs)("div",{className:"main-header-container",children:[(0,ie.jsx)(h.gMZ,{render:function(i){var o,a,l,s=i.isSideNavExpanded,d=i.onClickSideNavExpand;return(0,ie.jsxs)(h.h4i,{"aria-label":"Bynar",children:[(0,ie.jsx)(h.zl5,{}),(0,ie.jsx)(h.wID,{"aria-label":"Open menu",onClick:d,isActive:s}),(0,ie.jsx)(h.nho,{href:"#",prefix:"Bynar",children:"[Platform]"}),(0,ie.jsxs)(h.sLE,{children:[(0,ie.jsx)(b.Z,{}),(0,ie.jsx)(p,{className:"search-container",labelText:"Enter search term"}),r&&(0,ie.jsx)(h.JMr,{"aria-label":n("user"),className:"user-list-nav-button",onClick:function(){return I(!0)},children:(0,ie.jsx)(v.ohQ,{})}),(0,ie.jsxs)(h.J2e,{open:f,isTabTip:!0,align:"bottom-right",className:"popover-dropdown",children:[(0,ie.jsx)(h.JMr,{"aria-label":null!==(o=null===e||void 0===e?void 0:e.fullName)&&void 0!==o?o:n("user"),onClick:function(){j(!0),c((function(e){return(0,m.sR)(e,["userIdToShowDetails","openAddUserPanel","userIdToBeEdited","openCardMangementPanel","isInvoiceListOpen"])}))},children:(0,ie.jsx)(g.n,{backgroundColor:"light-cyan",size:"md",initials:null!==(a=null===e||void 0===e?void 0:e.fullName)&&void 0!==a?a:"...",image:null!==(l=null===e||void 0===e?void 0:e.profileURL)&&void 0!==l?l:"",theme:"g90"===t?"dark":"light"})}),(0,ie.jsx)(h.yky,{ref:O,children:(0,ie.jsx)(de,{onProfileOptionClick:function(){c({userIdToShowDetails:null===e||void 0===e?void 0:e.id}),j(!1)},openLanguageModal:C,setLanguageModalOpen:R,openUploadProfileModal:D,setUploadProfileModalOpen:L})})]})]}),(0,ie.jsx)(pe,{isSideNavExpanded:s,onClickSideNavExpand:d})]})}}),(0,ie.jsx)(le,{setIsOpen:I,isOpen:B})]}),(0,ie.jsx)(y.j3,{}),(0,ie.jsx)(m.pq,{isLanguageChangeModalOpen:C,openLanguageChangeModal:R}),(0,ie.jsx)(je,{isUploadProfileImageModalOpen:D,openUploadProfileImageModal:L})]})}function Se(e){return(0,ie.jsx)(m.v4,{children:(0,ie.jsx)(m.hq,{children:(0,ie.jsx)(ke,(0,r.Z)({},e))})})}}}]);
//# sourceMappingURL=137.d7ae2c1e.chunk.js.map