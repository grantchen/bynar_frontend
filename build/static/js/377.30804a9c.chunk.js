"use strict";(self.webpackChunkbynar=self.webpackChunkbynar||[]).push([[377],{40115:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(72791),i=t(60128),s=t(50719),o=t(452),a=t(39230),l=t(80184),c=function(){var e=(0,r.useContext)(o.q5),n=e.tab,t=e.handleAddTab,c=e.handleRemoveTab,u=e.activeTab,d=e.setActiveTab,h=(0,r.useRef)(null),f=(0,r.useRef)(null),p=(0,a.$G)().t,x=(0,o.hB)().isUserManagementAllowed,m=(0,r.useMemo)((function(){return x?4:3}),[x]),g=(window.innerWidth-405)/100<n.length;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"tab",ref:f,style:{width:"calc(100vw -  ".concat(3*m,"rem - /*text width Bynar[Platform]*/ 108px)")},children:[g&&(0,l.jsx)(s.hU,{className:"left-arrow",onClick:function(){h.current&&h.current.scrollTo({left:h.current.scrollLeft-102,behavior:"smooth"})},children:(0,l.jsx)(i.s$,{})}),(0,l.jsx)("div",{className:"tab-buttons-list",ref:h,children:(0,l.jsxs)("div",{style:{display:"flex",whiteSpace:"nowrap"},children:[n.map((function(e,n){return(0,l.jsxs)(s.zxk,{kind:"ghost",onClick:function(){d(null===e||void 0===e?void 0:e.id)},className:"custom-tab ".concat(u===(null===e||void 0===e?void 0:e.id)?"active":""),children:[e.label,e.isDelted&&(0,l.jsx)(i.x8,{size:20,style:{cursor:"pointer"},onClick:function(){return function(e,n){c(e,n)}(e.id,n)}})]},n)})),(0,l.jsx)(s.zxk,{kind:"ghost",className:"custom-tab",onClick:function(){t(),setTimeout((function(){h.current.scrollTo({left:h.current.scrollLeft+200,behavior:"smooth"})}),50)},children:p("add-new-tab")})]})}),g?(0,l.jsx)(s.hU,{className:"left-arrow",onClick:function(){h.current&&h.current.scrollTo({left:h.current.scrollLeft+102,behavior:"smooth"})},children:(0,l.jsx)(i._Q,{})}):null]})})}},44377:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(29439),i=t(62801),s=t(50719),o=t(76385),a=t(452),l=t(39230),c=t(51193),u=t(72791),d=t(40115),h=t(11087),f=t(57689),p=t(77636),x=t(1413),m=t(74165),g=t(15861),v=t(11459),j=t(32344),k=t(70735),b=t(97026),C=t(13205),y=t(88222),w=t(41810),S=t(78769),N=t(11240),T=t(31721),D=t(35802),L=t(40131),I=t(97159),B=t(39328),O=t(80184);C.K.setAllComponents(!0),C.K.setAllFeatures(!0);var A=function(e){var n,t=e.isOpen,i=(0,a.hB)(),c=i.getUserList,d=i.userListData,f=i.loading,p=i.openDeleteModal,C=i.notification,A=i.openEditPanel,U=i.openAddUserModel,E=i.openUserDetails,M=i.openBulkDeleteConfirmModal,Z=(0,a.XA)(),F=(0,l.$G)().t,z=(0,h.lr)(),P=(0,r.default)(z,2),H=P[0],G=P[1],$=(0,u.useState)(null!==(n=H.get("search"))&&void 0!==n?n:""),X=(0,r.default)($,2),q=X[0],J=X[1],K=(0,u.useState)(!1),Q=(0,r.default)(K,2),V=Q[0],_=Q[1],W=(0,u.useMemo)((function(){var e={page:0,pageLimit:10};try{var n,t;e={page:parseInt(null!==(n=H.get("page"))&&void 0!==n?n:0),pageLimit:parseInt(null!==(t=H.get("limit"))&&void 0!==t?t:10)}}catch(r){}finally{return e}}),[H]),Y=W.page,ee=W.pageLimit,ne=(0,u.useCallback)((function(){var e,n,t;return{limit:null!==(e=H.get("limit"))&&void 0!==e?e:10,page:null!==(n=H.get("page"))&&void 0!==n?n:0,search:null!==(t=H.get("search"))&&void 0!==t?t:"",sortByColumn:H.get("sortByColumn"),sortByOrder:H.get("sortByOrder")}}),[H]);(0,u.useEffect)((function(){var e;t&&(te.current=!0,J(null!==(e=H.get("search"))&&void 0!==e?e:""))}),[t]),(0,u.useEffect)((function(){t&&(0,g.default)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(ne());case 2:case"end":return e.stop()}}),e)})))()}),[ne,t]);var te=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(t){if(!te.current){var e=setTimeout((function(){(0,g.default)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(q?function(e){var n=(0,a.sR)(e,["page"]);return(0,x.Z)((0,x.Z)({},n),{},{search:q})}:function(e){return(0,a.sR)(e,["search"])});case 1:case"end":return e.stop()}}),e)})))()}),300);return function(){return clearTimeout(e)}}te.current=!1}else _(!1)}),[q,t]);var re=(0,u.useMemo)((function(){return R(d.userAccountDetails,F)}),[d.userAccountDetails]),ie=(0,y.Z)({columns:re,data:d.userAccountDetails,isFetching:f,endPlugins:[w.Z],emptyStateTitle:F("no-users"),emptyStateDescription:F("no-users-action-description"),emptyStateSize:"lg",emptyStateAction:{text:F("add-new-user"),onClick:U,renderIcon:v.mm,iconDescription:"Add icon"},rowActions:[{id:"view",itemText:(0,O.jsxs)("div",{className:"row-action-renderer",children:[(0,O.jsx)(j.cS,{})," ",F("view")]}),onClick:function(e,n){var t=n.original;return E({userIdToShowDetails:t.id})}},{id:"edit",itemText:(0,O.jsxs)("div",{className:"row-action-renderer",children:[(0,O.jsx)(k.I8,{})," ",F("edit")]}),onClick:function(e,n){var t=n.original;return A({userIdToBeEdited:t.id})},shouldDisableMenuItem:function(e){return!e.original.canUpdate}},{id:"delete",itemText:(0,O.jsxs)("div",{className:"row-action-renderer",children:[(0,O.jsx)(b.ZN,{})," ",F("delete")]}),hasDivider:!0,isDelete:!0,shouldDisableMenuItem:function(e){return!e.original.canDelete},onClick:function(e,n){var t=n.original;return p({userIdToBeDeleted:t.id,userNameToBeDeleted:t.username})}}],onRowSelect:function(e,n){},shouldDisableSelectRow:function(e){var n;return!(null!==e&&void 0!==e&&null!==(n=e.original)&&void 0!==n&&n.canDelete)},onSort:function(e,n){n===a.jV.NONE?G((function(e){return(0,a.sR)(e,["sortByColumn","sortByOrder"])})):G((function(t){return(0,a.CX)(t,{sortByColumn:e,sortByOrder:n})}))},onRowClick:function(e){var n=e.original;E({userIdToShowDetails:n.id})},DatagridPagination:function(){return(0,O.jsx)(s.tlE,{page:Y+1,pageSize:ee,pageSizes:[2,5,10,25,50],totalItems:null===d||void 0===d?void 0:d.totalCount,onChange:function(e){var n=e.page,t=e.pageSize;G((function(e){return(0,a.CX)(e,{page:n-1,limit:t})}))}})},DatagridBatchActions:function(e){var n=e.selectedFlatRows,t=e.toggleAllRowsSelected,r=n&&n.length;return(0,O.jsx)(s.iG6,{shouldShowBatchActions:r>0,totalSelected:r,onCancel:function(){return t(!1)},children:(0,O.jsx)(s.$oH,{renderIcon:I.nvl,onClick:function(){return alert("Batch action")},children:"Action"})})},DatagridActions:function(e){return(0,O.jsxs)(s.Vj0,{children:[(0,O.jsx)(s.Ys1,{size:"xl",id:"columnSearch",className:"search-input",placeHolderText:"Search here",onChange:function(e){return J(e.target.value)},value:null!==q&&void 0!==q?q:null,onExpand:function(e,n){return _(n)},expanded:V||q,onClear:function(){return J("")}}),(0,O.jsx)(s.zxk,{kind:"ghost",hasIconOnly:!0,tooltipPosition:"bottom",renderIcon:B._LT,iconDescription:F("refresh"),onClick:function(){return c(ne())}}),(0,O.jsx)(s.zxk,{onClick:U,hasIconOnly:!!Z,size:Z?"lg":"sm",kind:"primary",style:{cursor:"pointer"},renderIcon:v.mm,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:F("add-new-user"),children:F("add-new-user")})]})},batchActions:!0,toolbarBatchActions:[{label:F("delete"),renderIcon:o.XqF,onClick:function(){var e=ie.selectedFlatRows.map((function(e){return e.original.id}));M({userIdsToBeDeleted:e})},hasDivider:!0,kind:"danger"}]},S.Z,N.Z,T.Z,D.Z,a.Rq);return(0,u.useEffect)((function(){t&&ie.setPageSize(ee)}),[ee,t]),(0,u.useEffect)((function(){if(t){var e=H.get("sortByColumn"),n=H.get("sortByColumn");e&&n?ie.setSortBy([{id:H.get("sortByColumn"),desc:"DESC"===H.get("sortByOrder")}]):ie.setSortBy([])}}),[t,H.get("sortByColumn"),H.get("sortByOrder")]),(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(O.Fragment,{children:[C&&(0,O.jsx)(s.Jn6,{className:"error-notification-box",iconDescription:"close notification",subtitle:null===C||void 0===C?void 0:C.message,timeout:0,title:"",kind:C.type}),(0,O.jsx)("div",{className:"userdata-table",children:(0,O.jsx)(L.c,{datagridState:ie})})]})})},R=function(e,n){return[{Header:n("username"),accessor:"username",width:(0,a.tk)(e,"username","Username")},{Header:n("fullname"),accessor:"fullName",width:(0,a.tk)(e,"fullName","Fullname")},{Header:n("country"),accessor:"country",width:(0,a.tk)(e,"country","Country")},{Header:n("city"),accessor:"city",width:(0,a.tk)(e,"city","City")},{Header:n("postal-code"),accessor:"postalCode",width:(0,a.tk)(e,"postalCode","PostalCode")},{Header:n("state"),accessor:"state",width:(0,a.tk)(e,"state","State")},{Header:n("phone-number"),accessor:"phoneNumber",width:(0,a.tk)(e,"phoneNumber","Phonenumber")},{Header:n("roles"),accessor:"cognitoUserGroups",width:(0,a.tk)(e,"cognitoUserGroups","Roles")},{Header:"",accessor:"actions",isAction:!0,sticky:"right",disableSortBy:!0}]},U=function(e){var n=e.setIsOpen,t=e.isOpen,r=(0,f.s0)(),i=(0,l.$G)().t;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(p.b,{hasCloseIcon:!0,closeIconDescription:i("close-tearsheet-text"),label:"",onClose:function(){n(!1),r("/home/dashboard")},open:t,preventCloseOnClickOutside:!0,title:i("user-list"),children:(0,O.jsx)(A,{isOpen:t})})})},E=u.memo((function(e){var n,t,i=e.openLanguageModal,o=e.setLanguageModalOpen,u=e.onProfileOptionClick,d=void 0===u?function(){return null}:u,h=(0,l.$G)(),f=(0,r.default)(h,2),p=f[0],x=(f[1],(0,a.aC)()),j=x.signout,k=x.user,b=(0,a.Fc)(),C=b.openThemeChangeModal,y=b.theme,w=function(){var e=(0,g.default)((0,m.Z)().mark((function e(n){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,j();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,O.jsxs)("div",{className:"user-profile-dropdown",children:[(0,O.jsxs)(s.n9L,{className:"tile",children:[(0,O.jsxs)("div",{className:"bynar-profile-info-wrapper",children:[(0,O.jsx)("h4",{className:"user-name",children:null===k||void 0===k?void 0:k.fullName}),(0,O.jsx)("div",{className:"profile-info-image",children:(0,O.jsx)(c.n,{backgroundColor:"light-cyan",size:"xlg",initials:null!==(n=null===k||void 0===k?void 0:k.fullName)&&void 0!==n?n:"...",tooltipText:null!==(t=null===k||void 0===k?void 0:k.fullName)&&void 0!==t?t:"...",theme:"g90"===y?"dark":"light"})})]}),(0,O.jsxs)("div",{className:"link-list",children:[(0,O.jsx)(s.rUS,{onClick:d,children:p("profile")}),(0,O.jsx)(s.rUS,{children:p("privacy")}),(0,O.jsx)(s.rUS,{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),o(!i)},children:p("change-language")}),(0,O.jsx)(s.rUS,{style:{cursor:"pointer"},onClick:function(){return C(!0)},children:p("change-theme")}),(0,O.jsxs)(s.rUS,{style:{cursor:"pointer",alignItems:"center"},onClick:w,children:[p("logout"),(0,O.jsx)(v.ol,{style:{marginLeft:"4px"}})]})]})]}),(0,O.jsx)("div",{}),(0,O.jsx)("div",{})]})})),M=E,Z=t(71423),F=t(60128);function z(e){var n=e.isSideNavExpanded,t=e.onClickSideNavExpand,r=(0,u.useContext)(a.q5),i=r.tab,o=r.handleAddTab,c=r.handleRemoveTab,d=r.activeTab,h=r.setActiveTab,f=(0,l.$G)().t,p=(0,a.XA)();return(0,O.jsx)(Z.Z,{"aria-label":"Side navigation",expanded:n,isPersistent:!1,className:"sidenav-container",children:(0,O.jsxs)(s.LDp,{children:[(0,O.jsxs)(s.Fxs,{renderIcon:k.pT,title:"Category title",children:[(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"})]}),(0,O.jsxs)(s.Fxs,{renderIcon:k.pT,title:"Category title",children:[(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"})]}),(0,O.jsxs)(s.Fxs,{renderIcon:k.pT,title:"Category title",children:[(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"}),(0,O.jsx)(s.xRb,{href:"#",children:"Link"})]}),p&&(0,O.jsxs)(s.Fxs,{renderIcon:k.pT,title:"Dynamic Tabs",children:[i.map((function(e,n){return(0,O.jsxs)(s.xRb,{className:"side-nav-item-with-action","aria-current":n===d?"page":"link",onClick:function(){h(n),t()},children:[e.label,e.isDelted&&(0,O.jsx)("div",{role:"button",onClick:function(t){t.preventDefault(),t.stopPropagation(),c(e.id,n)},className:"delete-btn",children:(0,O.jsx)(F.x8,{size:12})})]},n)})),(0,O.jsx)(s.xRb,{onClick:o,children:f("add-new-tab")})]}),(0,O.jsx)(s.yTF,{renderIcon:k.pT,href:"#",children:"Link"}),(0,O.jsx)(s.yTF,{renderIcon:k.pT,href:"#",children:"Link"})]})})}function P(){var e=(0,a.aC)().user,n=(0,l.$G)().t,t=(0,a.Fc)().theme,p=(0,a.hB)().isUserManagementAllowed,x=(0,h.lr)(),m=(0,r.default)(x,2),g=m[0],v=m[1],j=((0,a.XA)(),(0,u.useState)(!1)),k=(0,r.default)(j,2),b=k[0],C=k[1],y=(0,u.useState)(!1),w=(0,r.default)(y,2),S=w[0],N=w[1],T=(0,u.useMemo)((function(){return{isUserListOpen:"true"===g.get("isUserListOpen"),setIsUserListOpen:function(e){return v({isUserListOpen:e})}}}),[g.get("isUserListOpen")]),D=T.isUserListOpen,L=T.setIsUserListOpen,I=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e=function(e){I.current&&!I.current.contains(e.target)&&C(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"main-header-container",children:[(0,O.jsx)(s.gMZ,{render:function(r){var l,u,h=r.isSideNavExpanded,f=r.onClickSideNavExpand;return(0,O.jsxs)(s.h4i,{"aria-label":"Bynar",children:[(0,O.jsx)(s.zl5,{}),(0,O.jsx)(s.wID,{"aria-label":"Open menu",onClick:f,isActive:h}),(0,O.jsx)(s.nho,{href:"#",prefix:"Bynar",children:"[Platform]"}),(0,O.jsxs)(s.sLE,{children:[(0,O.jsx)(d.Z,{}),(0,O.jsx)(i.Z,{className:"search-container",labelText:"Enter search term"}),p&&(0,O.jsx)(s.JMr,{"aria-label":n("user"),onClick:function(){return L(!0)},children:(0,O.jsx)(o.ohQ,{})}),(0,O.jsxs)(s.J2e,{open:b,isTabTip:!0,align:"bottom-right",className:"popover-dropdown",children:[(0,O.jsx)(s.JMr,{"aria-label":null!==(l=null===e||void 0===e?void 0:e.fullName)&&void 0!==l?l:n("user"),onClick:function(){C(!0),v((function(e){return(0,a.sR)(e,["userIdToShowDetails","openAddUserPanel","userIdToBeEdited"])}))},children:(0,O.jsx)(c.n,{backgroundColor:"light-cyan",size:"md",initials:null!==(u=null===e||void 0===e?void 0:e.fullName)&&void 0!==u?u:"...",theme:"g90"===t?"dark":"light"})}),(0,O.jsx)(s.yky,{ref:I,children:(0,O.jsx)(M,{onProfileOptionClick:function(){v({userIdToShowDetails:null===e||void 0===e?void 0:e.id}),C(!1)},openLanguageModal:S,setLanguageModalOpen:N})})]})]}),(0,O.jsx)(z,{isSideNavExpanded:h,onClickSideNavExpand:f})]})}}),(0,O.jsx)(U,{setIsOpen:L,isOpen:D})]}),(0,O.jsx)(f.j3,{}),(0,O.jsx)(a.pq,{isLanguageChangeModalOpen:S,openLanguageChangeModal:N})]})}}}]);
//# sourceMappingURL=377.30804a9c.chunk.js.map