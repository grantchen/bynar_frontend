"use strict";(self.webpackChunkbynar=self.webpackChunkbynar||[]).push([[66],{40115:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(72791),i=t(60128),o=t(50719),a=t(85317),l=t(39230),s=t(80184),c=function(){var e=(0,r.useContext)(a.q5),n=e.tab,t=e.handleAddTab,c=e.handleRemoveTab,d=e.activeTab,u=e.setActiveTab,f=(0,r.useRef)(null),p=(0,r.useRef)(null),h=(0,l.$G)().t,m=(0,a.hB)().isUserManagementAllowed,x=(0,a.XA)(),v=(0,r.useMemo)((function(){return m?4:3}),[m]);if(x)return null;var g=(window.innerWidth-405)/100<n.length;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"tab",ref:p,style:{width:"calc(100vw -  ".concat(3*v,"rem - /*text width Bynar[Platform]*/ 108px)")},children:[g&&(0,s.jsx)(o.hU,{className:"left-arrow",onClick:function(){f.current&&f.current.scrollTo({left:f.current.scrollLeft-102,behavior:"smooth"})},children:(0,s.jsx)(i.s$,{})}),(0,s.jsx)("div",{className:"tab-buttons-list",ref:f,children:(0,s.jsxs)("div",{style:{display:"flex",whiteSpace:"nowrap"},children:[n.map((function(e,n){return(0,s.jsxs)(o.zxk,{kind:"ghost",onClick:function(){u(null===e||void 0===e?void 0:e.id)},className:"custom-tab ".concat(d===(null===e||void 0===e?void 0:e.id)?"active":""),children:[e.label,e.isDelted&&(0,s.jsx)(i.x8,{size:20,style:{cursor:"pointer"},onClick:function(){return function(e,n){c(e,n)}(e.id,n)}})]},n)})),(0,s.jsx)(o.zxk,{kind:"ghost",className:"custom-tab",onClick:function(){t(),setTimeout((function(){f.current.scrollTo({left:f.current.scrollLeft+200,behavior:"smooth"})}),50)},children:h("add-new-tab")})]})}),g?(0,s.jsx)(o.hU,{className:"left-arrow",onClick:function(){f.current&&f.current.scrollTo({left:f.current.scrollLeft+102,behavior:"smooth"})},children:(0,s.jsx)(i._Q,{})}):null]})})}},58066:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r=t(29439),i=t(62801),o=t(50719),a=t(76385),l=t(85317),s=t(39230),c=t(51193),d=t(72791),u=t(40115),f=t(11087),p=t(57689),h=t(77636),m=t(1413),x=t(74165),v=t(15861),g=t(11459),j=t(32344),b=t(70735),k=t(97026),y=t(13205),C=t(88222),w=t(41810),S=t(78769),T=t(11240),D=t(31721),L=t(35802),N=t(25595),B=t(97159),I=t(39328),U=t(80184);y.K.setAllComponents(!0),y.K.setAllFeatures(!0);var O=function(e){var n,t=e.isOpen,i=(0,l.hB)(),c=i.getUserList,u=i.userListData,p=i.loading,h=i.openDeleteModal,y=i.notification,O=i.openEditPanel,R=i.openAddUserModel,A=i.openUserDetails,M=i.openBulkDeleteConfirmModal,F=(0,l.XA)(),P=(0,s.$G)().t,Z=(0,f.lr)(),z=(0,r.default)(Z,2),H=z[0],G=z[1],$=(0,d.useState)(null!==(n=H.get("search"))&&void 0!==n?n:""),X=(0,r.default)($,2),q=X[0],J=X[1],K=(0,d.useState)(!1),Q=(0,r.default)(K,2),V=Q[0],_=Q[1],W=(0,d.useMemo)((function(){var e={page:0,pageLimit:10};try{var n,t;e={page:parseInt(null!==(n=H.get("page"))&&void 0!==n?n:0),pageLimit:parseInt(null!==(t=H.get("limit"))&&void 0!==t?t:10)}}catch(r){}finally{return e}}),[H]),Y=W.page,ee=W.pageLimit,ne=(0,d.useCallback)((function(){var e,n,t;return{limit:null!==(e=H.get("limit"))&&void 0!==e?e:10,page:null!==(n=H.get("page"))&&void 0!==n?n:0,search:null!==(t=H.get("search"))&&void 0!==t?t:"",sortByColumn:H.get("sortByColumn"),sortByOrder:H.get("sortByOrder")}}),[H]);(0,d.useEffect)((function(){var e;t&&(te.current=!0,J(null!==(e=H.get("search"))&&void 0!==e?e:""))}),[t]),(0,d.useEffect)((function(){t&&(0,v.default)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(ne());case 2:case"end":return e.stop()}}),e)})))()}),[ne,t]);var te=(0,d.useRef)(!1);(0,d.useEffect)((function(){if(t){if(!te.current){var e=setTimeout((function(){(0,v.default)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G(q?function(e){var n=(0,l.sR)(e,["page"]);return(0,m.Z)((0,m.Z)({},n),{},{search:q})}:function(e){return(0,l.sR)(e,["search"])});case 1:case"end":return e.stop()}}),e)})))()}),300);return function(){return clearTimeout(e)}}te.current=!1}else _(!1)}),[q,t]);var re=(0,d.useMemo)((function(){return E(u.userAccountDetails,P)}),[u.userAccountDetails]),ie=(0,C.Z)({columns:re,data:u.userAccountDetails,isFetching:p,endPlugins:[w.Z],emptyStateTitle:P("no-users"),emptyStateDescription:P("no-users-action-description"),emptyStateSize:"lg",emptyStateAction:{text:P("add-new-user"),onClick:R,renderIcon:g.mm,iconDescription:"Add icon"},rowActions:[{id:"view",itemText:(0,U.jsxs)("div",{className:"row-action-renderer",children:[(0,U.jsx)(j.cS,{})," ",P("view")]}),onClick:function(e,n){var t=n.original;return A({userIdToShowDetails:t.id})}},{id:"edit",itemText:(0,U.jsxs)("div",{className:"row-action-renderer",children:[(0,U.jsx)(b.I8,{})," ",P("edit")]}),onClick:function(e,n){var t=n.original;return O({userIdToBeEdited:t.id})},shouldDisableMenuItem:function(e){return!e.original.canUpdate}},{id:"delete",itemText:(0,U.jsxs)("div",{className:"row-action-renderer",children:[(0,U.jsx)(k.ZN,{})," ",P("delete")]}),hasDivider:!0,isDelete:!0,shouldDisableMenuItem:function(e){return!e.original.canDelete},onClick:function(e,n){var t=n.original;return h({userIdToBeDeleted:t.id,userNameToBeDeleted:t.username})}}],onRowSelect:function(e,n){},shouldDisableSelectRow:function(e){var n;return!(null!==e&&void 0!==e&&null!==(n=e.original)&&void 0!==n&&n.canDelete)},onSort:function(e,n){n===l.jV.NONE?G((function(e){return(0,l.sR)(e,["sortByColumn","sortByOrder"])})):G((function(t){return(0,l.CX)(t,{sortByColumn:e,sortByOrder:n})}))},onRowClick:function(e){var n=e.original;A({userIdToShowDetails:n.id})},DatagridPagination:function(){return(0,U.jsx)(o.tlE,{page:Y+1,pageSize:ee,pageSizes:[2,5,10,25,50],totalItems:null===u||void 0===u?void 0:u.totalCount,onChange:function(e){var n=e.page,t=e.pageSize;G((function(e){return(0,l.CX)(e,{page:n-1,limit:t})}))}})},DatagridBatchActions:function(e){var n=e.selectedFlatRows,t=e.toggleAllRowsSelected,r=n&&n.length;return(0,U.jsx)(o.iG6,{shouldShowBatchActions:r>0,totalSelected:r,onCancel:function(){return t(!1)},children:(0,U.jsx)(o.$oH,{renderIcon:B.nvl,onClick:function(){return alert("Batch action")},children:"Action"})})},DatagridActions:function(e){return(0,U.jsxs)(o.Vj0,{children:[(0,U.jsx)(o.Ys1,{size:"xl",id:"columnSearch",className:"search-input",placeHolderText:"Search here",onChange:function(e){return J(e.target.value)},value:null!==q&&void 0!==q?q:null,onExpand:function(e,n){return _(n)},expanded:V||q,onClear:function(){return J("")}}),(0,U.jsx)(o.zxk,{kind:"ghost",hasIconOnly:!0,tooltipPosition:"bottom",renderIcon:I._LT,iconDescription:P("refresh"),onClick:function(){return c(ne())}}),(0,U.jsx)(o.zxk,{onClick:R,hasIconOnly:!!F,size:F?"lg":"sm",kind:"primary",style:{cursor:"pointer"},renderIcon:g.mm,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:P("add-new-user"),children:P("add-new-user")})]})},batchActions:!0,toolbarBatchActions:[{label:P("delete"),renderIcon:a.XqF,onClick:function(){var e=ie.selectedFlatRows.map((function(e){return e.original.id}));M({userIdsToBeDeleted:e})},hasDivider:!0,kind:"danger"}]},S.Z,T.Z,D.Z,L.Z,l.Rq);return(0,d.useEffect)((function(){t&&ie.setPageSize(ee)}),[ee,t]),(0,d.useEffect)((function(){if(t){var e=H.get("sortByColumn"),n=H.get("sortByColumn");e&&n?ie.setSortBy([{id:H.get("sortByColumn"),desc:"DESC"===H.get("sortByOrder")}]):ie.setSortBy([])}}),[t,H.get("sortByColumn"),H.get("sortByOrder")]),(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)(U.Fragment,{children:[y&&(0,U.jsx)(o.Jn6,{className:"error-notification-box",iconDescription:"close notification",subtitle:null===y||void 0===y?void 0:y.message,timeout:0,title:"",kind:y.type}),(0,U.jsx)("div",{className:"userdata-table",children:(0,U.jsx)(N.c,{datagridState:ie})})]})})},E=function(e,n){return[{Header:n("username"),accessor:"username",width:(0,l.tk)(e,"username","Username")},{Header:n("fullname"),accessor:"fullName",width:(0,l.tk)(e,"fullName","Fullname")},{Header:n("country"),accessor:"country",width:(0,l.tk)(e,"country","Country")},{Header:n("city"),accessor:"city",width:(0,l.tk)(e,"city","City")},{Header:n("postal-code"),accessor:"postalCode",width:(0,l.tk)(e,"postalCode","PostalCode")},{Header:n("state"),accessor:"state",width:(0,l.tk)(e,"state","State")},{Header:n("phone-number"),accessor:"phoneNumber",width:(0,l.tk)(e,"phoneNumber","Phonenumber")},{Header:n("roles"),accessor:"cognitoUserGroups",width:(0,l.tk)(e,"cognitoUserGroups","Roles")},{Header:"",accessor:"actions",isAction:!0,sticky:"right",disableSortBy:!0}]},R=function(e){var n=e.setIsOpen,t=e.isOpen,r=(0,p.s0)(),i=(0,s.$G)().t;return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(h.b,{hasCloseIcon:!0,closeIconDescription:i("close-tearsheet-text"),label:"",onClose:function(){n(!1),r("/home/dashboard")},open:t,preventCloseOnClickOutside:!0,title:i("user-list"),children:(0,U.jsx)(O,{isOpen:t})})})},A=d.memo((function(e){var n,t,i,a=e.openLanguageModal,d=e.setLanguageModalOpen,u=e.openUploadProfileModal,f=e.setUploadProfileModalOpen,p=e.onProfileOptionClick,h=void 0===p?function(){return null}:p,m=(0,s.$G)(),j=(0,r.default)(m,2),b=j[0],k=(j[1],(0,l.aC)()),y=k.signout,C=k.user,w=(0,l.Fc)(),S=w.openThemeChangeModal,T=w.theme,D=function(){var e=(0,v.default)((0,x.Z)().mark((function e(n){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,y();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,U.jsxs)("div",{className:"user-profile-dropdown",children:[(0,U.jsxs)(o.n9L,{className:"tile",children:[(0,U.jsxs)("div",{className:"bynar-profile-info-wrapper",children:[(0,U.jsx)("h4",{className:"user-name",children:null===C||void 0===C?void 0:C.fullName}),(0,U.jsx)("div",{className:"profile-info-image",children:(0,U.jsx)(c.n,{backgroundColor:"light-cyan",size:"xlg",initials:null!==(n=null===C||void 0===C?void 0:C.fullName)&&void 0!==n?n:"...",image:null!==(t=null===C||void 0===C?void 0:C.profileURL)&&void 0!==t?t:"",tooltipText:null!==(i=null===C||void 0===C?void 0:C.fullName)&&void 0!==i?i:"...",theme:"g90"===T?"dark":"light",onClick:function(e){e.preventDefault(),f(!u)}})})]}),(0,U.jsxs)("div",{className:"link-list",children:[(0,U.jsx)(o.rUS,{onClick:h,children:b("profile")}),(0,U.jsx)(o.rUS,{children:b("privacy")}),(0,U.jsx)(o.rUS,{style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),d(!a)},children:b("change-language")}),(0,U.jsx)(o.rUS,{style:{cursor:"pointer"},onClick:function(){return S(!0)},children:b("change-theme")}),(0,U.jsxs)(o.rUS,{style:{cursor:"pointer",alignItems:"center"},onClick:D,children:[b("logout"),(0,U.jsx)(g.ol,{style:{marginLeft:"4px"}})]})]})]}),(0,U.jsx)("div",{}),(0,U.jsx)("div",{})]})})),M=A,F=t(71423),P=t(60128);function Z(e){var n=e.isSideNavExpanded,t=e.onClickSideNavExpand,r=(0,d.useContext)(l.q5),i=r.tab,a=r.handleAddTab,c=r.handleRemoveTab,u=r.activeTab,f=r.setActiveTab,p=(0,s.$G)().t,h=(0,l.XA)();return(0,U.jsx)(F.Z,{"aria-label":"Side navigation",expanded:n,isPersistent:!1,className:"sidenav-container",children:(0,U.jsxs)(o.LDp,{children:[(0,U.jsxs)(o.Fxs,{renderIcon:b.pT,title:"Category title",children:[(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"})]}),(0,U.jsxs)(o.Fxs,{renderIcon:b.pT,title:"Category title",children:[(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"})]}),(0,U.jsxs)(o.Fxs,{renderIcon:b.pT,title:"Category title",children:[(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"}),(0,U.jsx)(o.xRb,{href:"#",children:"Link"})]}),h&&(0,U.jsxs)(o.Fxs,{renderIcon:b.pT,title:"Dynamic Tabs",children:[i.map((function(e,n){return(0,U.jsxs)(o.xRb,{className:"side-nav-item-with-action","aria-current":n===u?"page":"link",onClick:function(){f(n),t()},children:[e.label,e.isDelted&&(0,U.jsx)("div",{role:"button",onClick:function(t){t.preventDefault(),t.stopPropagation(),c(e.id,n)},className:"delete-btn",children:(0,U.jsx)(P.x8,{size:12})})]},n)})),(0,U.jsx)(o.xRb,{onClick:a,children:p("add-new-tab")})]}),(0,U.jsx)(o.yTF,{renderIcon:b.pT,href:"#",children:"Link"}),(0,U.jsx)(o.yTF,{renderIcon:b.pT,href:"#",children:"Link"})]})})}var z=t(92374),H=t(26045),G=t(84969),$=function(e){var n=e.isUploadProfileImageModalOpen,t=e.openUploadProfileImageModal,i=(0,z.aC)().authFetch,o=(0,d.useState)(!1),a=(0,r.default)(o,2),l=a[0],c=a[1],u=(0,s.$G)().t,f=(0,d.useState)(!1),p=(0,r.default)(f,2),h=p[0],g=p[1];if((0,d.useEffect)((function(){if(!n){var e=setTimeout((function(){return g(!0)}),500);return function(){return clearTimeout(e)}}}),[n]),(0,d.useEffect)((function(){h&&g(!1)}),[h]),h)return null;var j={title:u("import"),accept:["image/jpeg","image/png"],defaultErrorBody:u("select-new-file-try-again"),defaultErrorHeader:u("import-failed"),description:u("import-description"),fetchErrorBody:u("unable-fetch-url"),fetchErrorHeader:u("import-failed"),fileDropHeader:u("file-drop-header"),fileDropLabel:u("file-drop-label"),fileUploadLabel:u("file-upload-label"),inputButtonText:u("add-file"),inputLabel:u("add-file-specify-url"),inputPlaceholder:u("URL"),invalidFileTypeErrorBody:u("invalid-file-type"),invalidFileTypeErrorHeader:u("import-failed"),invalidIconDescription:u("delete"),maxFileSize:512e3,maxFileSizeErrorBody:u("max-file-size-error-500"),maxFileSizeErrorHeader:u("import-failed"),open:n,primaryButtonText:u("import"),secondaryButtonText:u("cancel"),onClose:function(){return t(!1)},onRequestSubmit:function(){var e=(0,v.default)((0,x.Z)().mark((function e(n){var r;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,(r=new FormData).append("file",n[0].fileData),e.next=6,i("".concat(H.xB,"/upload"),{method:"POST",body:r});case 6:if(!e.sent.ok){e.next=11;break}t(!1),e.next=12;break;case 11:throw"error";case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:return e.prev=16,c(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,14,16,19]])})));return function(n){return e.apply(this,arguments)}}()};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(G.Z,(0,m.Z)((0,m.Z)({},j),{},{className:"image-import ".concat(l?"is-loading":"")}))})};function X(){var e=(0,l.aC)().user,n=(0,s.$G)().t,t=(0,l.Fc)().theme,h=(0,l.hB)().isUserManagementAllowed,m=(0,f.lr)(),x=(0,r.default)(m,2),v=x[0],g=x[1],j=((0,l.XA)(),(0,d.useState)(!1)),b=(0,r.default)(j,2),k=b[0],y=b[1],C=(0,d.useState)(!1),w=(0,r.default)(C,2),S=w[0],T=w[1],D=(0,d.useState)(!1),L=(0,r.default)(D,2),N=L[0],B=L[1],I=(0,d.useMemo)((function(){return{isUserListOpen:"true"===v.get("isUserListOpen"),setIsUserListOpen:function(e){return g({isUserListOpen:e})}}}),[v.get("isUserListOpen")]),O=I.isUserListOpen,E=I.setIsUserListOpen,A=(0,d.useRef)(null);return(0,d.useEffect)((function(){var e=function(e){A.current&&!A.current.contains(e.target)&&y(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"main-header-container",children:[(0,U.jsx)(o.gMZ,{render:function(r){var s,d,f,p=r.isSideNavExpanded,m=r.onClickSideNavExpand;return(0,U.jsxs)(o.h4i,{"aria-label":"Bynar",children:[(0,U.jsx)(o.zl5,{}),(0,U.jsx)(o.wID,{"aria-label":"Open menu",onClick:m,isActive:p}),(0,U.jsx)(o.nho,{href:"#",prefix:"Bynar",children:"[Platform]"}),(0,U.jsxs)(o.sLE,{children:[(0,U.jsx)(u.Z,{}),(0,U.jsx)(i.Z,{className:"search-container",labelText:"Enter search term"}),h&&(0,U.jsx)(o.JMr,{"aria-label":n("user"),onClick:function(){return E(!0)},children:(0,U.jsx)(a.ohQ,{})}),(0,U.jsxs)(o.J2e,{open:k,isTabTip:!0,align:"bottom-right",className:"popover-dropdown",children:[(0,U.jsx)(o.JMr,{"aria-label":null!==(s=null===e||void 0===e?void 0:e.fullName)&&void 0!==s?s:n("user"),onClick:function(){y(!0),g((function(e){return(0,l.sR)(e,["userIdToShowDetails","openAddUserPanel","userIdToBeEdited"])}))},children:(0,U.jsx)(c.n,{backgroundColor:"light-cyan",size:"md",initials:null!==(d=null===e||void 0===e?void 0:e.fullName)&&void 0!==d?d:"...",image:null!==(f=null===e||void 0===e?void 0:e.profileURL)&&void 0!==f?f:"",theme:"g90"===t?"dark":"light"})}),(0,U.jsx)(o.yky,{ref:A,children:(0,U.jsx)(M,{onProfileOptionClick:function(){g({userIdToShowDetails:null===e||void 0===e?void 0:e.id}),y(!1)},openLanguageModal:S,setLanguageModalOpen:T,openUploadProfileModal:N,setUploadProfileModalOpen:B})})]})]}),(0,U.jsx)(Z,{isSideNavExpanded:p,onClickSideNavExpand:m})]})}}),(0,U.jsx)(R,{setIsOpen:E,isOpen:O})]}),(0,U.jsx)(p.j3,{}),(0,U.jsx)(l.pq,{isLanguageChangeModalOpen:S,openLanguageChangeModal:T}),(0,U.jsx)($,{isUploadProfileImageModalOpen:N,openUploadProfileImageModal:B})]})}}}]);
//# sourceMappingURL=66.5a33a8a9.chunk.js.map